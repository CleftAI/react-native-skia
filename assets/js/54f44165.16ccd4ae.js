"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7924],{6746:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var n=t(9575),r=(t(4041),t(2247));const o={id:"installation",title:"Installation",sidebar_label:"Installation",slug:"/getting-started/installation"},s=void 0,i={unversionedId:"getting-started/installation",id:"getting-started/installation",title:"Installation",description:"React Native Skia brings the Skia Graphics Library to React Native.",source:"@site/docs/getting-started/installation.md",sourceDirName:"getting-started",slug:"/getting-started/installation",permalink:"/react-native-skia/docs/getting-started/installation",draft:!1,editUrl:"https://github.com/shopify/react-native-skia/edit/main/docs/docs/getting-started/installation.md",tags:[],version:"current",frontMatter:{id:"installation",title:"Installation",sidebar_label:"Installation",slug:"/getting-started/installation"},sidebar:"tutorialSidebar",next:{title:"Hello World",permalink:"/react-native-skia/docs/getting-started/hello-world"}},l={},p=[{value:"Bundle Size",id:"bundle-size",level:3},{value:"iOS",id:"ios",level:2},{value:"Android",id:"android",level:2},{value:"Proguard",id:"proguard",level:3},{value:"TroubleShooting",id:"troubleshooting",level:3},{value:"Web",id:"web",level:2},{value:"TV",id:"tv",level:2},{value:"Debugging",id:"debugging",level:2},{value:"Testing with Jest",id:"testing-with-jest",level:2},{value:"ESM Setup",id:"esm-setup",level:3},{value:"CommonJS Setup",id:"commonjs-setup",level:3},{value:"Playground",id:"playground",level:2}],d={toc:p},y="wrapper";function c(e){let{components:a,...t}=e;return(0,r.yg)(y,(0,n.A)({},d,t,{components:a,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"React Native Skia brings the ",(0,r.yg)("a",{parentName:"p",href:"https://skia.org/"},"Skia Graphics Library")," to React Native.\nSkia serves as the graphics engine for Google Chrome and Chrome OS, Android, Flutter, Mozilla Firefox, Firefox OS, and many other products."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Version compatibility:"),"\n",(0,r.yg)("inlineCode",{parentName:"p"},"react-native@>=0.71")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"react@>=18")," are required. ",(0,r.yg)("br",null),"\nIn addition you should make sure you're on at least ",(0,r.yg)("inlineCode",{parentName:"p"},"iOS 13")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"Android API level 21")," or above. ",(0,r.yg)("br",null),"\nTo use React Native Skia with the new architecture, ",(0,r.yg)("inlineCode",{parentName:"p"},"react-native@>=0.72")," is required. ",(0,r.yg)("br",null),"\nTo use React Native Skia with video support, ",(0,r.yg)("inlineCode",{parentName:"p"},"Android API level 26")," or above is required."),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"tvOS >= 13")," is also supported."),(0,r.yg)("p",null,"Skia has a new experimental backend named Graphite which runs on Vulkan and Metal.\nWe currently are working on a new version of React Native Skia that uses this new backend.\nFor Graphite to run, you will need to use ",(0,r.yg)("inlineCode",{parentName:"p"},"Android API level 26")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"iOS 15.1")," or above."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Install the library using yarn:")),(0,r.yg)("div",{className:"shiki-twoslash-fragment"},(0,r.yg)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,r.yg)("div",{parentName:"pre",className:"language-id"},"sh"),(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},"yarn add @shopify/react-native-skia"))))),(0,r.yg)("pre",{parentName:"div",className:"shiki nord",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,r.yg)("div",{parentName:"pre",className:"language-id"},"sh"),(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"yarn add @shopify/react-native-skia")))))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Or using npm:")),(0,r.yg)("div",{className:"shiki-twoslash-fragment"},(0,r.yg)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,r.yg)("div",{parentName:"pre",className:"language-id"},"sh"),(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},"npm install @shopify/react-native-skia"))))),(0,r.yg)("pre",{parentName:"div",className:"shiki nord",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,r.yg)("div",{parentName:"pre",className:"language-id"},"sh"),(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"npm install @shopify/react-native-skia")))))),(0,r.yg)("h3",{id:"bundle-size"},"Bundle Size"),(0,r.yg)("p",null,"Below is the app size increase to be expected when adding React Native Skia to your project (",(0,r.yg)("a",{parentName:"p",href:"bundle-size"},"learn more"),")."),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"iOS"),(0,r.yg)("th",{parentName:"tr",align:null},"Android"),(0,r.yg)("th",{parentName:"tr",align:null},"Web"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"6 MB"),(0,r.yg)("td",{parentName:"tr",align:null},"4 MB"),(0,r.yg)("td",{parentName:"tr",align:null},"2.9 MB")))),(0,r.yg)("h2",{id:"ios"},"iOS"),(0,r.yg)("p",null,"Run ",(0,r.yg)("inlineCode",{parentName:"p"},"pod install")," on the ",(0,r.yg)("inlineCode",{parentName:"p"},"ios/")," directory."),(0,r.yg)("h2",{id:"android"},"Android"),(0,r.yg)("p",null,"Currently, you will need Android NDK to be installed.\nIf you have Android Studio installed, make sure ",(0,r.yg)("inlineCode",{parentName:"p"},"$ANDROID_NDK")," is available.\n",(0,r.yg)("inlineCode",{parentName:"p"},"ANDROID_NDK=/Users/username/Library/Android/sdk/ndk/<version>")," for instance."),(0,r.yg)("p",null,"If the NDK is not installed, you can install it via Android Studio by going to the menu ",(0,r.yg)("em",{parentName:"p"},"File > Project Structure")),(0,r.yg)("p",null,"And then the ",(0,r.yg)("em",{parentName:"p"},"SDK Location")," section. It will show you the NDK path, or the option to download it if you don't have it installed."),(0,r.yg)("h3",{id:"proguard"},"Proguard"),(0,r.yg)("p",null,"If you're using Proguard, make sure to add the following rule at ",(0,r.yg)("inlineCode",{parentName:"p"},"proguard-rules.pro"),":"),(0,r.yg)("div",{className:"shiki-twoslash-fragment"},(0,r.yg)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"undefined"}},"-keep class com.shopify.reactnative.skia.** { *; }"))))),(0,r.yg)("pre",{parentName:"div",className:"shiki nord",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"undefined"}},"-keep class com.shopify.reactnative.skia.** { *; }")))))),(0,r.yg)("h3",{id:"troubleshooting"},"TroubleShooting"),(0,r.yg)("p",null,"For error ",(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("em",{parentName:"strong"},"CMake 'X.X.X' was not found in SDK, PATH, or by cmake.dir property."))),(0,r.yg)("p",null,"open ",(0,r.yg)("em",{parentName:"p"},"Tools > SDK Manager"),", switch to the ",(0,r.yg)("em",{parentName:"p"},"SDK Tools")," tab.\nFind ",(0,r.yg)("inlineCode",{parentName:"p"},"CMake")," and click ",(0,r.yg)("em",{parentName:"p"},"Show Package Details")," and download compatiable version ",(0,r.yg)("strong",{parentName:"p"},"'X.X.X'"),", and apply to install."),(0,r.yg)("h2",{id:"web"},"Web"),(0,r.yg)("p",null,"To use this library in the browser, see ",(0,r.yg)("a",{parentName:"p",href:"/docs/getting-started/web"},"these instructions"),"."),(0,r.yg)("h2",{id:"tv"},"TV"),(0,r.yg)("p",null,"Starting from version ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/Shopify/react-native-skia/releases/tag/v1.9.0"},"1.9.0")," React Native Skia supports running on TV devices using ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/react-native-tvos/react-native-tvos"},"React Native TVOS"),".\nCurrently both Android TV and Apple TV are supported."),(0,r.yg)("admonition",{type:"info"},(0,r.yg)("p",{parentName:"admonition"},"Not all features have been tested yet, so please ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/Shopify/react-native-skia/issues"},"report")," any issues you encounter when using React Native Skia on TV devices.")),(0,r.yg)("h2",{id:"debugging"},"Debugging"),(0,r.yg)("p",null,"We recommend using React Native DevTools to debug your JS code \u2014 see the ",(0,r.yg)("a",{parentName:"p",href:"https://reactnative.dev/docs/debugging"},"React Native docs"),". Alternatively, you can debug both JS and platform code in VS Code and via native IDEs. If using VS Code, we recommend ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/expo/vscode-expo"},"Expo Tools"),", ",(0,r.yg)("a",{parentName:"p",href:"https://ide.swmansion.com/"},"Radon IDE"),", or Microsoft's ",(0,r.yg)("a",{parentName:"p",href:"https://marketplace.visualstudio.com/items?itemName=msjsdiag.vscode-react-native#debugging-react-native-applications"},"React Native Tools"),"."),(0,r.yg)("h2",{id:"testing-with-jest"},"Testing with Jest"),(0,r.yg)("p",null,"React Native Skia test mocks use a web implementation that depends on loading CanvasKit."),(0,r.yg)("p",null,"The very first step is to make sure that your Skia files are not being transformed by jest, for instance, we can add it the ",(0,r.yg)("inlineCode",{parentName:"p"},"transformIgnorePatterns")," directive:"),(0,r.yg)("div",{className:"shiki-twoslash-fragment"},(0,r.yg)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,r.yg)("div",{parentName:"pre",className:"language-id"},"js"),(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#22863A"}},'"transformIgnorePatterns"'),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},": [")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.yg)("span",{parentName:"div",style:{color:"#22863A"}},'"node_modules/(?!(react-native|react-native.*|@react-native.*|@?react-navigation.*|@shopify/react-native-skia)/)"')),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},"]"))))),(0,r.yg)("pre",{parentName:"div",className:"shiki nord",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,r.yg)("div",{parentName:"pre",className:"language-id"},"js"),(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"transformIgnorePatterns"),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},": [")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"  "),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"node_modules/(?!(react-native|react-native.*|@react-native.*|@?react-navigation.*|@shopify/react-native-skia)/)"),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"')),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]")))))),(0,r.yg)("p",null,"Next, we recommend using ",(0,r.yg)("a",{parentName:"p",href:"https://jestjs.io/docs/ecmascript-modules"},"ESM"),". To enable ESM support, you need to update your ",(0,r.yg)("inlineCode",{parentName:"p"},"jest")," command to ",(0,r.yg)("inlineCode",{parentName:"p"},"node --experimental-vm-modules node_modules/.bin/jest"),".\nBut we also support ",(0,r.yg)("a",{parentName:"p",href:"#commonjs-setup"},"CommonJS"),"."),(0,r.yg)("h3",{id:"esm-setup"},"ESM Setup"),(0,r.yg)("p",null,"To load CanvasKit and subsequently the React Native Skia mock, add the following setup file to your Jest configuration:"),(0,r.yg)("div",{className:"shiki-twoslash-fragment"},(0,r.yg)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,r.yg)("div",{parentName:"pre",className:"language-id"},"js"),(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// notice the extension: .mjs")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#22863A"}},'"setupFiles"'),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},": ["),(0,r.yg)("span",{parentName:"div",style:{color:"#22863A"}},'"@shopify/react-native-skia/jestSetup.mjs"'),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},"]"))))),(0,r.yg)("pre",{parentName:"div",className:"shiki nord",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,r.yg)("div",{parentName:"pre",className:"language-id"},"js"),(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#616E88"}},"// notice the extension: .mjs")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"setupFiles"),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},": ["),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"@shopify/react-native-skia/jestSetup.mjs"),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]")))))),(0,r.yg)("h3",{id:"commonjs-setup"},"CommonJS Setup"),(0,r.yg)("p",null,"We also offer a version of the setup file without ECMAScript modules support. To use this version, add the following setup file to your Jest configuration:"),(0,r.yg)("div",{className:"shiki-twoslash-fragment"},(0,r.yg)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,r.yg)("div",{parentName:"pre",className:"language-id"},"js"),(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// notice the extension: .js")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#22863A"}},'"setupFiles"'),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},": ["),(0,r.yg)("span",{parentName:"div",style:{color:"#22863A"}},'"@shopify/react-native-skia/jestSetup.js"'),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},"]"))))),(0,r.yg)("pre",{parentName:"div",className:"shiki nord",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,r.yg)("div",{parentName:"pre",className:"language-id"},"js"),(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#616E88"}},"// notice the extension: .js")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"setupFiles"),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},": ["),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"@shopify/react-native-skia/jestSetup.js"),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]")))))),(0,r.yg)("p",null,"With this setup, you need to load the Skia environment in your test. Include the following at the top of your test file:"),(0,r.yg)("div",{className:"shiki-twoslash-fragment"},(0,r.yg)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,r.yg)("div",{parentName:"pre",className:"language-id"},"js"),(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#C2C3C5"}},"/**")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#C2C3C5"}}," * @jest-environment @shopify/react-native-skia/jestEnv.mjs")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#C2C3C5"}}," */"))))),(0,r.yg)("pre",{parentName:"div",className:"shiki nord",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,r.yg)("div",{parentName:"pre",className:"language-id"},"js"),(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#616E88"}}," * @jest-environment @shopify/react-native-skia/jestEnv.mjs")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#616E88"}}," */")))))),(0,r.yg)("p",null,"For instance:"),(0,r.yg)("div",{className:"shiki-twoslash-fragment"},(0,r.yg)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,r.yg)("div",{parentName:"pre",className:"language-id"},"js"),(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#C2C3C5"}},"/**")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#C2C3C5"}}," * @jest-environment @shopify/react-native-skia/jestEnv.mjs")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#C2C3C5"}}," */")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#D32F2F"}},"import"),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#22863A"}},'"react-native"'),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},";")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#D32F2F"}},"import"),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}}," React "),(0,r.yg)("span",{parentName:"div",style:{color:"#D32F2F"}},"from"),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#22863A"}},'"react"'),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},";")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#D32F2F"}},"import"),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}}," { cleanup"),(0,r.yg)("span",{parentName:"div",style:{color:"#212121"}},","),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}}," render } "),(0,r.yg)("span",{parentName:"div",style:{color:"#D32F2F"}},"from"),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#22863A"}},'"@testing-library/react-native"'),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},";")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#D32F2F"}},"import"),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}}," App "),(0,r.yg)("span",{parentName:"div",style:{color:"#D32F2F"}},"from"),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#22863A"}},'"./App"'),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},";")),(0,r.yg)("div",{parentName:"code",className:"line"}),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#6F42C1"}},"it"),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},"("),(0,r.yg)("span",{parentName:"div",style:{color:"#22863A"}},'"renders correctly"'),(0,r.yg)("span",{parentName:"div",style:{color:"#212121"}},","),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}}," () "),(0,r.yg)("span",{parentName:"div",style:{color:"#D32F2F"}},"=>"),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}}," {")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.yg)("span",{parentName:"div",style:{color:"#6F42C1"}},"render"),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},"(<"),(0,r.yg)("span",{parentName:"div",style:{color:"#1976D2"}},"App"),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}}," />);")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},"});")),(0,r.yg)("div",{parentName:"code",className:"line"}),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#6F42C1"}},"afterEach"),(0,r.yg)("span",{parentName:"div",style:{color:"#24292EFF"}},"(cleanup);"))))),(0,r.yg)("pre",{parentName:"div",className:"shiki nord",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,r.yg)("div",{parentName:"pre",className:"language-id"},"js"),(0,r.yg)("div",{parentName:"pre",className:"code-container"},(0,r.yg)("code",{parentName:"div"},(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#616E88"}}," * @jest-environment @shopify/react-native-skia/jestEnv.mjs")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#616E88"}}," */")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"import"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"react-native"),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},";")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"import"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#8FBCBB"}},"React"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"from"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"react"),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},";")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"import"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#8FBCBB"}},"cleanup"),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},","),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#8FBCBB"}},"render"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"}"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"from"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"@testing-library/react-native"),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},";")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"import"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#8FBCBB"}},"App"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"from"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"./App"),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},";")),(0,r.yg)("div",{parentName:"code",className:"line"}),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},"it"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"("),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"renders correctly"),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},","),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"()"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"=>"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"  "),(0,r.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},"render"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"("),(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"<"),(0,r.yg)("span",{parentName:"div",style:{color:"#8FBCBB"}},"App"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"/>"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},")"),(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},";")),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"}"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},")"),(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},";")),(0,r.yg)("div",{parentName:"code",className:"line"}),(0,r.yg)("div",{parentName:"code",className:"line"},(0,r.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},"afterEach"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"("),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9"}},"cleanup"),(0,r.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},")"),(0,r.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},";")))))),(0,r.yg)("p",null,"With this configuration, you will have properly set up Jest to work with React Native Skia mocks using either ECMAScript Modules or CommonJS."),(0,r.yg)("h2",{id:"playground"},"Playground"),(0,r.yg)("p",null,"We have example projects you can play with ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/Shopify/react-native-skia/tree/main/apps"},"here"),".\nIt would require you first to ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/shopify/react-native-skia?tab=readme-ov-file#library-development"},"build Skia locally")," first."))}c.isMDXComponent=!0},2247:(e,a,t)=>{t.d(a,{xA:()=>d,yg:()=>g});var n=t(4041);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=n.createContext({}),p=function(e){var a=n.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):s(s({},a),e)),t},d=function(e){var a=p(e.components);return n.createElement(l.Provider,{value:a},e.children)},y="mdxType",c={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),y=p(t),m=r,g=y["".concat(l,".").concat(m)]||y[m]||c[m]||o;return t?n.createElement(g,s(s({ref:a},d),{},{components:t})):n.createElement(g,s({ref:a},d))}));function g(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=t.length,s=new Array(o);s[0]=m;var i={};for(var l in a)hasOwnProperty.call(a,l)&&(i[l]=a[l]);i.originalType=e,i[y]="string"==typeof e?e:r,s[1]=i;for(var p=2;p<o;p++)s[p]=t[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);